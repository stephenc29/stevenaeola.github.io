# node-red basics

## My first flow

Once you have your node-red server started and the browser pointing at
it correctly, you should have a screen looking something like this:

![Blank node-red](blank-node-red.png)

On the left-hand side is the _palette_, which has a list of different
types of _nodes_ you can choose to combine to make your _flow_ (which is
what node-red calls a program). You put them in the _workspace_ for the flow (the big
area in the middle, currently blank) by clicking and dragging them
from the palette. Each node can have _inputs_ and/or _outputs_. Inputs are on
the left-hand side of the box and outputs are on the right-hand
side, marked with a small rounded rectangle. Messages are passed from the output
of one node to the input of another node by connecting them with
_wires_. Our first example is going to have two nodes and one
wire as follows:

* Drag an `inject` node and a `debug` node into the workspace
* Add a wire from the output of the `inject` node to the input of the
 `debug` node by clicking on the output and dragging to the input (or
 anywhere on that node)

Now your workspace should contain nodes looking like this:

![Two nodes in a workspace](two-nodes.png)

## Making it do stuff

So far you have edited your program but it isn't doing anything
yet. At this stage the program you have written is held inside the web
browser but you need to transfer it to the node-red server so that it
runs and actually does stuff. This process is called _deployment_ and
you do it by clicking on the deploy button near the top right hand
corner which looks something like this:

![Deploy button](deploy.png)

If that works your program is running on the server. Every time you
make a change to the program by adding or removing nodes or wires you
have to deploy it again (_redeploy_ it).

Now if you click on the larger rounded rectangle on the left hand side
of the `inject` node (which is now called `timestamp`) then the server
will send a message on to all the nodes connected to its output, which
in this case is the `debug` node (which is now called
`msg.payload`). The debug node works by taking any input messages it
receives and prints them in the `debug` tab in the right-hand
sidebar. The output it shows is something like this:

![Debug message](debug-payload.png)

If you click on the inject button again then a new message will appear
in the debug window.

## Node configuration

There are at least three mysteries in what we have looked at so far:

* What are the strange numbers that appear in the debug tab?
* Why did the `inject` node change its name to `timestamp`?
* Why did the `debug` node changs its name to `msg.payload`?

The first two questions we can answer at once. The most important
number in the debug tab is the payload of the message i.e. the
information the message contains, which appears in blue. Each time you
send a new message a different payload will be produced. This payload
is generated by the `inject` node when it is clicked, and is a measure
of the current time (to be precise, it is the number of milliseconds
since the 1st January 1970). However, we can change the `inject` node
to send a different payload instead. We do this by _configuring_ the
node, through double-clicking on the node and using this dialogue box

![Configure inject node](configure-inject.png)

Different types of payload can be selected. By default it gives
_timestamp_ but if you change this to _string_ (which is a string of
characters i.e. some text) you can select what text you want to
send. This could be something friendly like "hello". Save this with
the "Done" button and redeploy your program. Now the title of the
`inject` node has changed and your message can be
seen when you click on the left-hand side of it.